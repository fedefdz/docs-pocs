{
  "openapi": "3.0.2",
  "info": {
    "title": "Risk Evaluation Applications API",
    "description": "The **Risk Evaluation Applications Backoffice API** enables the management of credit risk assessment applications. It provides endpoints for creating these applications, listing applications generated by the back office, and also pre-evaluating potential customers from different channels.",
    "version": "1.0.0"
  },
  "servers": [
    {
      "url": "pos/risk-evaluation-applications/cbank"
    },
    {
      "url": "pos/risk-evaluation-applications/local_cbank"
    }
  ],
  "tags": [
    {
      "name": "Application",
      "description": "Manage applications at the operational level from the agent's perspective."
    },
    {
      "name": "Application Workflows",
      "description": "Start an application and its corresponding user data loading tracking."
    }
  ],
  "paths": {
    "/application-workflows/application": {
      "post": {
        "tags": [
          "Application Workflows"
        ],
        "summary": "Start an application with its corresponding workflow.",
        "description": "Start an application with its corresponding workflow.",
        "operationId": "createWorkflowApplication",
        "requestBody": {
          "description": "Create an application with its corresponding workflow.",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/applicationworkflow.Create"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/applicationworkflow.Application"
                }
              }
            }
          },
          "400": {
            "description": "Invalid data supplied",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string",
                  "example": "bad request Key: 'CreateRequest.person_id' Error:Field validation for 'person_id' failed on the 'required' tag"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth": []
          }
        ]
      }
    }
  },
  "components": {
    "schemas": {
      "applicationworkflow.Create": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "description": "The email of the user",
            "example": "user@example.com"
          },
          "person_id": {
            "type": "string",
            "description": "The ID of the person",
            "example": "123456"
          },
          "first_names": {
            "type": "string",
            "description": "The first names of the user",
            "example": "John"
          },
          "last_names": {
            "type": "string",
            "description": "The last names of the user",
            "example": "Doe"
          },
          "phone": {
            "type": "string",
            "description": "The phone number of the user",
            "example": "+1234567890"
          },
          "correlation_id": {
            "type": "string",
            "description": "The correlation ID for the application",
            "example": "correlation123"
          },
          "version": {
            "type": "integer",
            "nullable": true,
            "description": "The version number of the workflow setup",
            "example": 1
          }
        },
        "required": [
          "email",
          "person_id",
          "first_names",
          "last_names",
          "phone"
        ]
      },
      "applicationworkflow.Application": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "setup": {
            "$ref": "#/components/schemas/workflow.Workflow"
          },
          "user": {
            "$ref": "#/components/schemas/applicationworkflow.User"
          },
          "application": {
            "$ref": "#/components/schemas/application.Application"
          },
          "completed_percentage": {
            "type": "integer"
          },
          "status": {
            "type": "string",
            "enum": [
              "disabled",
              "pending",
              "in_progress",
              "completed"
            ]
          },
          "flow": {
            "type": "object",
            "description": "Flow schema not included in this example"
          },
          "created_on": {
            "type": "string",
            "format": "date-time"
          },
          "updated_on": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "applicationworkflow.User": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "identity_provider_id": {
            "type": "string"
          },
          "tenant": {
            "type": "string"
          },
          "first_names": {
            "type": "string"
          },
          "last_names": {
            "type": "string"
          },
          "email": {
            "type": "string"
          },
          "phone": {
            "type": "string"
          },
          "roles": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "created_by": {
            "type": "string"
          },
          "created_on": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "application.Application": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "tenant": {
            "type": "string"
          },
          "client": {
            "allOf": [
              {
                "$ref": "#/components/schemas/application.Client"
              }
            ],
            "nullable": true
          },
          "personal_data": {
            "$ref": "#/components/schemas/application.PersonalData"
          },
          "credentials": {
            "allOf": [
              {
                "$ref": "#/components/schemas/application.Credentials"
              }
            ],
            "nullable": true
          },
          "debt": {
            "$ref": "#/components/schemas/application.Debt"
          },
          "income": {
            "$ref": "#/components/schemas/application.Income"
          },
          "net_worth": {
            "$ref": "#/components/schemas/application.NetWorth"
          },
          "credit": {
            "$ref": "#/components/schemas/application.Credit"
          },
          "financial_product": {
            "$ref": "#/components/schemas/financial.Product"
          },
          "correlation_id": {
            "type": "string"
          },
          "changelog": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/application.ChangelogItem"
            }
          },
          "created_on": {
            "type": "string",
            "format": "date-time"
          },
          "updated_on": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "application.Client": {
        "type": "object",
        "properties": {
          "user_id": {
            "type": "string"
          },
          "person_id": {
            "type": "string"
          },
          "email": {
            "type": "string"
          },
          "first_names": {
            "type": "string"
          },
          "last_names": {
            "type": "string"
          },
          "phone": {
            "type": "string"
          }
        }
      },
      "application.PersonalData": {
        "type": "object",
        "properties": {
          "person_id": {
            "type": "string",
            "nullable": true
          },
          "first_names": {
            "type": "string",
            "nullable": true
          },
          "last_names": {
            "type": "string",
            "nullable": true
          },
          "nationality": {
            "type": "string",
            "nullable": true
          },
          "birth_date": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "profession": {
            "type": "string",
            "nullable": true
          },
          "marital_status": {
            "type": "string",
            "nullable": true
          },
          "marital_contract": {
            "allOf": [
              {
                "$ref": "#/components/schemas/application.MaritalContract"
              }
            ],
            "nullable": true
          },
          "academic_info": {
            "allOf": [
              {
                "$ref": "#/components/schemas/application.AcademicInfo"
              }
            ],
            "nullable": true
          }
        }
      },
      "application.MaritalContract": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "nullable": true
          },
          "spouse_name": {
            "type": "string",
            "nullable": true
          },
          "spouse_person_id": {
            "type": "string",
            "nullable": true
          },
          "marriage_certificate_file": {
            "$ref": "#/components/schemas/common.AttachmentFile"
          }
        }
      },
      "application.AcademicInfo": {
        "type": "object",
        "properties": {
          "level": {
            "type": "string",
            "nullable": true
          },
          "career": {
            "type": "string",
            "nullable": true
          },
          "institution_name": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "application.Credentials": {
        "type": "object",
        "properties": {
          "terms_and_conditions": {
            "type": "boolean"
          },
          "use_credentials": {
            "type": "boolean"
          },
          "person_id": {
            "type": "string",
            "nullable": true
          },
          "identification_number": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "application.Debt": {
        "type": "object",
        "properties": {
          "total": {
            "type": "number",
            "format": "float",
            "nullable": true
          },
          "total_delinquency": {
            "type": "number",
            "format": "float",
            "nullable": true
          },
          "direct": {
            "$ref": "#/components/schemas/application.DebtComponent"
          },
          "indirect": {
            "$ref": "#/components/schemas/application.DebtComponent"
          },
          "debt_report_file": {
            "$ref": "#/components/schemas/common.AttachmentFile"
          }
        }
      },
      "application.DebtComponent": {
        "type": "object",
        "properties": {
          "total": {
            "type": "number",
            "format": "float",
            "nullable": true
          },
          "total_delinquency": {
            "type": "number",
            "format": "float",
            "nullable": true
          },
          "monthly_payment": {
            "type": "number",
            "format": "float",
            "nullable": true
          },
          "entities": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/application.FinancialEntityDebt"
            }
          }
        }
      },
      "application.FinancialEntityDebt": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "total": {
            "type": "number",
            "format": "float"
          },
          "delinquency_between_30_89_days": {
            "type": "number",
            "format": "float",
            "nullable": true
          },
          "delinquency_over_90_days": {
            "type": "number",
            "format": "float",
            "nullable": true
          },
          "monthly_payment": {
            "type": "number",
            "format": "float",
            "nullable": true
          },
          "loans": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/application.Loan"
            }
          }
        }
      },
      "application.Loan": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "type": {
            "type": "string"
          },
          "balance": {
            "type": "number",
            "format": "float"
          },
          "monthly_payment": {
            "type": "number",
            "format": "float"
          },
          "number_installments_paid": {
            "type": "integer",
            "nullable": true
          },
          "total_number_installments": {
            "type": "integer",
            "nullable": true
          },
          "file": {
            "$ref": "#/components/schemas/common.AttachmentFile"
          }
        }
      },
      "application.Income": {
        "type": "object",
        "properties": {
          "total_monthly_income": {
            "type": "number",
            "format": "float"
          },
          "employments": {
            "$ref": "#/components/schemas/application.Employments"
          },
          "independent_activities": {
            "$ref": "#/components/schemas/application.IndependentActivitiesComponent"
          },
          "property_lease": {
            "$ref": "#/components/schemas/application.PropertyLeaseComponent"
          },
          "pensions": {
            "$ref": "#/components/schemas/application.PensionComponent"
          },
          "co_borrower": {
            "$ref": "#/components/schemas/application.CoBorrower"
          },
          "annual_income_tax_return": {
            "$ref": "#/components/schemas/application.AnnualIncomeTaxReturnComponent"
          }
        }
      },
      "application.Employments": {
        "type": "object",
        "nullable": true,
        "properties": {
          "monthly_salary": {
            "type": "number",
            "format": "float",
            "nullable": true
          },
          "avg_monthly_salary": {
            "type": "number",
            "format": "float"
          },
          "avg_fixed_monthly_salary": {
            "type": "number",
            "format": "float"
          },
          "avg_variable_monthly_salary": {
            "type": "number",
            "format": "float"
          },
          "avg_monthly_taxable_income": {
            "type": "number",
            "format": "float"
          },
          "job_seniority": {
            "type": "integer"
          },
          "job_continuity": {
            "type": "integer"
          },
          "employments": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/application.Employment"
            }
          },
          "annual_payroll_contributions": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/application.AnnualPayrollContributions"
            }
          }
        }
      },
      "application.Employment": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "employer_id": {
            "type": "string"
          },
          "employer_name": {
            "type": "string"
          },
          "current": {
            "type": "boolean",
            "nullable": true
          },
          "job_seniority": {
            "type": "integer"
          },
          "start_date": {
            "type": "string",
            "format": "date-time"
          },
          "end_date": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "contract_type": {
            "type": "string",
            "nullable": true
          },
          "pay_stub_files": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/common.AttachmentFile"
            }
          },
          "periods": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/application.EmploymentPeriod"
            }
          }
        }
      },
      "application.EmploymentPeriod": {
        "type": "object",
        "properties": {
          "period_code": {
            "type": "string"
          },
          "year": {
            "type": "integer"
          },
          "month": {
            "type": "integer"
          },
          "total_salary": {
            "type": "number",
            "format": "float"
          },
          "fixed_salary": {
            "type": "number",
            "format": "float"
          },
          "variable_salary": {
            "type": "number",
            "format": "float"
          },
          "taxable_income": {
            "type": "number",
            "format": "float",
            "nullable": true
          },
          "quoted": {
            "type": "number",
            "format": "float",
            "nullable": true
          },
          "quoted_breakdown": {
            "type": "array",
            "items": {
              "type": "number"
            },
            "nullable": true
          },
          "payment_date": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "pay_stub_file": {
            "$ref": "#/components/schemas/common.AttachmentFile"
          }
        }
      },
      "application.AnnualPayrollContributions": {
        "type": "object",
        "properties": {
          "year": {
            "type": "integer"
          },
          "total_quoted": {
            "type": "number",
            "format": "float"
          },
          "certificate_file": {
            "$ref": "#/components/schemas/common.AttachmentFile"
          }
        }
      },
      "application.IndependentActivitiesComponent": {
        "type": "object",
        "properties": {
          "total": {
            "type": "number",
            "format": "float"
          },
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/application.IndependentActivity"
            }
          },
          "contractor_invoices_last_twelve_months": {
            "$ref": "#/components/schemas/application.MonthlyContractorInvoicesComponent"
          }
        }
      },
      "application.IndependentActivity": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "type": {
            "type": "string"
          },
          "total_fees_last_twelve_months": {
            "type": "number",
            "format": "float"
          },
          "tax_category": {
            "type": "string",
            "nullable": true
          },
          "code": {
            "type": "string",
            "nullable": true
          },
          "taxable": {
            "type": "boolean",
            "nullable": true
          },
          "activity_started_date": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "contract_service_attachment": {
            "$ref": "#/components/schemas/common.AttachmentFile"
          },
          "last_fees_attachments": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/common.AttachmentFile"
            }
          }
        }
      },
      "application.MonthlyContractorInvoicesComponent": {
        "type": "object",
        "properties": {
          "total": {
            "type": "number",
            "format": "float"
          },
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/application.MonthlyContractorInvoices"
            }
          }
        }
      },
      "application.MonthlyContractorInvoices": {
        "type": "object",
        "properties": {
          "year": {
            "type": "integer"
          },
          "month": {
            "type": "integer"
          },
          "gross_amount": {
            "type": "number",
            "format": "float"
          },
          "net_amount": {
            "type": "number",
            "format": "float"
          },
          "third_party_withholdings": {
            "type": "number",
            "format": "float"
          },
          "contractor_withholdings": {
            "type": "number",
            "format": "float"
          },
          "invoices_attachments": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/common.AttachmentFile"
            }
          }
        }
      },
      "application.PropertyLeaseComponent": {
        "type": "object",
        "properties": {
          "total": {
            "type": "number",
            "format": "float"
          },
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/application.PropertyLease"
            }
          }
        }
      },
      "application.PropertyLease": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "address": {
            "type": "string"
          },
          "locality": {
            "type": "string",
            "nullable": true
          },
          "state": {
            "type": "string",
            "nullable": true
          },
          "monthly_rent": {
            "type": "number",
            "format": "float"
          },
          "approved_rent": {
            "type": "number",
            "format": "float",
            "nullable": true
          },
          "current_certificate_domain_file": {
            "$ref": "#/components/schemas/common.AttachmentFile"
          },
          "rent_contract_file": {
            "$ref": "#/components/schemas/common.AttachmentFile"
          },
          "rent_payment_receipt_files": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/common.AttachmentFile"
            }
          },
          "rent_payment_receipts": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/application.PaymentReceipt"
            }
          }
        }
      },
      "application.PaymentReceipt": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "year": {
            "type": "integer",
            "nullable": true
          },
          "month": {
            "type": "integer",
            "nullable": true
          },
          "monthly_amount": {
            "type": "number",
            "format": "float"
          },
          "file": {
            "$ref": "#/components/schemas/common.AttachmentFile"
          }
        }
      },
      "application.PensionComponent": {
        "type": "object",
        "properties": {
          "total": {
            "type": "number",
            "format": "float"
          },
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/application.Pension"
            }
          }
        }
      },
      "application.Pension": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "type": {
            "type": "string"
          },
          "monthly_amount": {
            "type": "number",
            "format": "float",
            "nullable": true
          },
          "payment_receipts": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/application.PaymentReceipt"
            }
          },
          "payment_receipt_files": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/common.AttachmentFile"
            }
          }
        }
      },
      "application.CoBorrower": {
        "type": "object",
        "nullable": true,
        "properties": {
          "id": {
            "type": "string"
          },
          "person_id": {
            "type": "string"
          },
          "email": {
            "type": "string"
          }
        }
      },
      "application.AnnualIncomeTaxReturnComponent": {
        "type": "object",
        "properties": {
          "total": {
            "type": "number",
            "format": "float"
          },
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/application.AnnualIncomeTaxReturn"
            }
          }
        }
      },
      "application.AnnualIncomeTaxReturn": {
        "type": "object",
        "properties": {
          "period": {
            "type": "integer",
            "format": "int32"
          },
          "total": {
            "type": "number",
            "format": "float"
          },
          "form_attachment": {
            "$ref": "#/components/schemas/common.AttachmentFile"
          }
        }
      },
      "application.NetWorth": {
        "type": "object",
        "properties": {
          "total_assets_value": {
            "type": "number",
            "format": "float"
          },
          "real_estate_properties": {
            "$ref": "#/components/schemas/application.RealEstatePropertyComponent"
          },
          "vehicles": {
            "$ref": "#/components/schemas/application.VehicleComponent"
          },
          "companies": {
            "$ref": "#/components/schemas/application.CompanyComponent"
          }
        }
      },
      "application.RealEstatePropertyComponent": {
        "type": "object",
        "properties": {
          "total": {
            "type": "number",
            "format": "float"
          },
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/application.RealEstateProperty"
            }
          }
        }
      },
      "application.RealEstateProperty": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "value": {
            "type": "number",
            "format": "float"
          },
          "local_id": {
            "type": "string",
            "nullable": true
          },
          "locality": {
            "type": "string"
          },
          "address": {
            "type": "string"
          },
          "property_type": {
            "type": "string",
            "nullable": true
          },
          "certificado_dominio_vigente_file": {
            "$ref": "#/components/schemas/common.AttachmentFile"
          },
          "cgp_file": {
            "$ref": "#/components/schemas/common.AttachmentFile"
          }
        }
      },
      "application.VehicleComponent": {
        "type": "object",
        "properties": {
          "total": {
            "type": "number",
            "format": "float"
          },
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/application.Vehicle"
            }
          }
        }
      },
      "application.Vehicle": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "value": {
            "type": "number",
            "format": "float"
          },
          "license_plate": {
            "type": "string"
          },
          "brand": {
            "type": "string",
            "nullable": true
          },
          "model": {
            "type": "string",
            "nullable": true
          },
          "year": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "register_file": {
            "$ref": "#/components/schemas/common.AttachmentFile"
          }
        }
      },
      "application.CompanyComponent": {
        "type": "object",
        "properties": {
          "total": {
            "type": "number",
            "format": "float"
          },
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/application.Company"
            }
          }
        }
      },
      "application.Company": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "subscribed_capital": {
            "type": "number",
            "format": "float"
          },
          "local_id": {
            "type": "string",
            "nullable": true
          },
          "legal_name": {
            "type": "string"
          },
          "escritura_constitucion_file": {
            "$ref": "#/components/schemas/common.AttachmentFile"
          },
          "certificado_vigencia_file": {
            "$ref": "#/components/schemas/common.AttachmentFile"
          }
        }
      },
      "application.Credit": {
        "type": "object",
        "nullable": true,
        "properties": {
          "ltv": {
            "type": "number",
            "format": "float",
            "nullable": true
          },
          "monthly_payment_to_income_ratio": {
            "type": "number",
            "format": "float",
            "nullable": true
          },
          "debt_to_income_ratio": {
            "type": "number",
            "format": "float",
            "nullable": true
          },
          "monthly_payment": {
            "type": "number",
            "format": "float",
            "nullable": true
          },
          "interest_rate": {
            "$ref": "#/components/schemas/financial.InterestRate"
          },
          "property_background": {
            "$ref": "#/components/schemas/application.PropertyBackground"
          },
          "credit_details": {
            "$ref": "#/components/schemas/application.CreditDetails"
          }
        }
      },
      "application.PropertyBackground": {
        "type": "object",
        "properties": {
          "address_street": {
            "type": "string",
            "nullable": true
          },
          "address_locality": {
            "type": "string",
            "nullable": true
          },
          "address_state": {
            "type": "string",
            "nullable": true
          },
          "current_status": {
            "type": "string",
            "nullable": true
          },
          "storages": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "garages": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "dfl_2": {
            "type": "boolean",
            "nullable": true
          },
          "type": {
            "type": "string",
            "nullable": true
          },
          "broker_type": {
            "type": "string",
            "nullable": true
          },
          "broker_name": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "application.CreditDetails": {
        "type": "object",
        "properties": {
          "operation_type": {
            "type": "string",
            "nullable": true
          },
          "property_use": {
            "type": "string",
            "nullable": true
          },
          "property_value": {
            "type": "number",
            "format": "float",
            "nullable": true
          },
          "loan_amount": {
            "type": "number",
            "format": "float",
            "nullable": true
          },
          "subsidy": {
            "type": "number",
            "format": "float",
            "nullable": true
          },
          "grace_months": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "loan_term_years": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          }
        }
      },
      "application.ChangelogItem": {
        "type": "object",
        "properties": {
          "field_id": {
            "type": "string"
          },
          "value": {
            "nullable": true
          },
          "updated_on": {
            "type": "string",
            "format": "date-time"
          },
          "updated_by": {
            "$ref": "#/components/schemas/auth.User"
          }
        }
      },
      "workflow.Workflow": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "version": {
            "type": "integer"
          },
          "tenant": {
            "type": "string"
          },
          "flow": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/workflow.FlowStep"
            }
          },
          "created_on": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "workflow.FlowStep": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "sections": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/workflow.Section"
            }
          }
        }
      },
      "workflow.Section": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "groups": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/workflow.Group"
            }
          }
        }
      },
      "workflow.Group": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "fields": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/workflow.Field"
            }
          }
        }
      },
      "workflow.Field": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "type": {
            "nullable": true,
            "allOf": [
              {
                "$ref": "#/components/schemas/common.DataType"
              }
            ]
          },
          "is_array": {
            "type": "boolean"
          },
          "required": {
            "type": "boolean"
          },
          "editable": {
            "type": "boolean"
          },
          "min": {
            "type": "integer",
            "nullable": true
          },
          "data_source": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "financial.InterestRate": {
        "type": "object",
        "nullable": true,
        "properties": {
          "type": {
            "type": "string"
          },
          "interest_payment_schedule": {
            "type": "string"
          },
          "nominal_annual_rate_year": {
            "type": "number",
            "format": "float"
          },
          "monthly_payment_income_ratio": {
            "type": "number",
            "format": "float"
          }
        }
      },
      "financial.Product": {
        "type": "object",
        "nullable": true,
        "properties": {
          "id": {
            "type": "string"
          },
          "tenant": {
            "type": "string"
          },
          "product_specs": {
            "$ref": "#/components/schemas/financial.ProductSpecs"
          },
          "payment_schedule": {
            "$ref": "#/components/schemas/financial.PaymentSchedule"
          },
          "interest_rate": {
            "$ref": "#/components/schemas/financial.InterestRate"
          },
          "collateral": {
            "$ref": "#/components/schemas/financial.Collateral"
          },
          "operating_expense_settings": {
            "$ref": "#/components/schemas/financial.OperatingExpenseSettings"
          },
          "insurance_settings": {
            "$ref": "#/components/schemas/financial.InsuranceSettings"
          },
          "financial_institution": {
            "$ref": "#/components/schemas/financial.FinancialInstitution"
          },
          "created_on": {
            "type": "string",
            "format": "date-time"
          },
          "updated_on": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "financial.ProductSpecs": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "type": {
            "type": "string",
            "enum": [
              "credito_hipotecario_adquisicion",
              "credito_hipotecario_fines_generales"
            ]
          },
          "short_description": {
            "type": "string",
            "nullable": true
          },
          "description": {
            "type": "string"
          },
          "currency": {
            "type": "string",
            "enum": [
              "CLP",
              "UF"
            ]
          },
          "min_principal": {
            "type": "number",
            "format": "float",
            "nullable": true
          },
          "max_principal": {
            "type": "number",
            "format": "float",
            "nullable": true
          }
        }
      },
      "financial.PaymentSchedule": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string"
          },
          "min_maturity": {
            "type": "integer",
            "format": "int32"
          },
          "max_maturity": {
            "type": "integer",
            "format": "int32"
          },
          "max_grace_period": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "financial.Collateral": {
        "type": "object",
        "properties": {
          "collateralized_loan": {
            "type": "boolean"
          },
          "ltv": {
            "type": "number",
            "format": "float"
          },
          "type": {
            "type": "string"
          },
          "condition": {
            "type": "string"
          },
          "property_primary_use": {
            "type": "string"
          },
          "min_collateral": {
            "type": "number",
            "format": "float",
            "nullable": true
          },
          "max_collateral": {
            "type": "number",
            "format": "float",
            "nullable": true
          },
          "properties_subsidy": {
            "type": "boolean"
          }
        }
      },
      "financial.InsuranceSettings": {
        "type": "object",
        "properties": {
          "life_insurance_monthly": {
            "type": "number",
            "format": "float"
          },
          "property_insurance_monthly": {
            "type": "number",
            "format": "float"
          }
        }
      },
      "financial.OperatingExpenseSettings": {
        "type": "object",
        "properties": {
          "appraisal": {
            "type": "number",
            "format": "float"
          },
          "notary": {
            "type": "number",
            "format": "float"
          },
          "titles": {
            "type": "number",
            "format": "float",
            "nullable": true
          },
          "deed_transfer": {
            "type": "number",
            "format": "float",
            "nullable": true
          },
          "land_registry": {
            "type": "number",
            "format": "float",
            "nullable": true
          },
          "stamp_tax": {
            "type": "number",
            "format": "float",
            "nullable": true
          }
        }
      },
      "financial.FinancialInstitution": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "type": {
            "type": "string"
          },
          "logo_url": {
            "type": "string",
            "nullable": true
          },
          "country_code": {
            "type": "string"
          },
          "deleted": {
            "type": "boolean",
            "nullable": true
          },
          "created_on": {
            "type": "string",
            "format": "date-time"
          },
          "updated_on": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "common.DataType": {
        "type": "string",
        "enum": [
          "attachment_file"
        ]
      },
      "common.AttachmentFile": {
        "type": "object",
        "nullable": true,
        "properties": {
          "file_id": {
            "type": "string"
          },
          "file_name": {
            "type": "string"
          }
        }
      },
      "auth.User": {
        "type": "object",
        "nullable": true,
        "properties": {
          "id": {
            "type": "string"
          },
          "type": {
            "$ref": "#/components/schemas/auth.UserType"
          },
          "email": {
            "type": "string"
          },
          "tenant": {
            "type": "string"
          },
          "roles": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "auth.UserType": {
        "type": "string",
        "enum": [
          "user",
          "data_source",
          "api"
        ]
      }
    },
    "securitySchemes": {
      "OAuth": {
        "type": "oauth2",
        "flows": {
          "clientCredentials": {
            "tokenUrl": "https://lenk-development.us.auth0.com/oauth/token",
            "scopes": {}
          }
        },
        "x-token-audience": "https://api.internal.development.getlenk.com"
      }
    }
  }
}